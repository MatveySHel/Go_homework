# Репозиторий с домашками   
Шелякин Матвей НИУ ВШЭ. Данный файл содержит необходимое описание всех домашек.

## Проекты-домашки:

- [Библиотека](#библиотека)

### Библиотека
В пакете *library* содержится файл main.go, который содержит весь код для управления библиотекой. Поскольку ТЗ было абстрактным и размытым, мне приходлось самому додумывать логику проекта и, возможно, я немного намудрил с функционалом: надобавлял своих функций/методов. Надеюсь на вашу подробную обратную связь по функионалу и реализации.    
#### Функционал:
Библиотека имеет хранилище в виде слайса или мапы, для них я объявил отдельный тип, чтобы я мог описать для них свои методы. Элементы обоих контейнеров - объекты струкуры *Book*, которые имеют поля: айди, имя автора, название книги, количество книг. Обе струтуры соотвествуют интерфесу *Library*. Данный интерфейс реализовывает следующие методы:
- ***Search***: принимает на вход название книги и автора типов *string*, возвращает *bool*;
- ***AddBook*** (void): принимает на вход название книги и автора типов и добавляет книгу в хранилище;
- ***RemoveBook***: принимает на вход название книги и автора типов *string* и удаляет книгу. Возвращает *bool* True, если книга найдена и удалена, False - иначе;
- ***RenewId***: обновляет id книг на основе новой id-функции;
- ***ShowContainer***: Выводит содержимое контейнеров на экран.   


Первые четыре метода также принимают на вход указатель на перменную *k*, Эта переменная нужна для всех методов для корректного обновления id-функции и последующего обновления id у книг. Также есть функция ***SetUp_storage***, которая обновляет контейнер, меняя на нужную структур (map или slice).   
Ниже я продемонстрирую работу программы, иммитируя сценарий. Скомпелировання программа ожидает на вход запрос пяти видов:
- *search_book: \<author\> '\<title\>'*
- *add_book: \<author\> '\<title\>'*
- *remove_book: \<author\> '\<title\>'*
- *renew_storage: {slice, map}*
- *renew_id_func*   
Далее функциями ***ParseQuiry*** и ***ProccessQuiry*** эти запросы обрабатываются и выполняются с выводом на экран сообщения с результатом их выполняния.
Работа программы, сконвертированной в бинарный файл ( Если строка начинается с ">", то это то, что выводится на экран):

`libraryHT.exe`
```
>Type following commands:(
  search_book: <author> '<title>',
  add_book: <author> '<title>',
  remove_book: <author> '<title>'
  renew_storage: {slice, map}')
  renew_id_func
  show_storage )
>library(map): { }
hello
>Error: invalid command
add_book: Пушкин А. С. 'Дубровский'
>The book successfully added
add_book: Толстой Л. Н. 'Война и мир'
>The book successfully added
add_book: Пушкин А. С. 'Дубровский'
>The book successfully added
add_book: Лермонтов М. Ю. 'Герой нашего времени'
>The book successfully added
show_storage
>library(map): { {444889373 Герой нашего времени Лермонтов М. Ю. 1} {749858428 Дубровский Пушкин А. С. 2} {201468853 Война и мир Толстой Л. Н. 1} }
search_book: Толстой Л. Н. 'Война и мир'
>The book Война и мир Толстой Л. Н. is exists
search_book: Лермонтов М. Ю. 'Мцыри'
>No such book: Мцыри Лермонтов М. Ю.
remove_book: Лермонтов М. Ю. 'Герой нашего времени'
>The book successfully removed
show_storage
>library(map): { {749858428 Дубровский Пушкин А. С. 2} {201468853 Война и мир Толстой Л. Н. 1} }
renew_storage: slice
show_storage
>library(slice): [ ]
add_book: Пушкин А. С. 'Дубровский'
>The book successfully added
add_book: Толстой Л. Н. 'Война и мир'
>The book successfully added
show_storage
>library(slice): [ {749858428 Дубровский Пушкин А. С. 1} {201468853 Война и мир Толстой Л. Н. 1} ]
search_book: Толстой Л. Н. 'Война и мир'
>The book Война и мир Толстой Л. Н. is exists
search_book: Достоевский Ф. М. 'Преступление и наказание'
>No such book: Преступление и наказание Достоевский Ф. М.
renew_id_func
show_storage
>library(slice): [ {906073964 Дубровский Пушкин А. С. 1} {167863855 Война и мир Толстой Л. Н. 1} ]
renew_id_func
show_storage
>library(slice): [ {315203641 Дубровский Пушкин А. С. 1} {107074658 Война и мир Толстой Л. Н. 1} ]
renew_id_func
show_storage
>library(slice): [ {511478076 Дубровский Пушкин А. С. 1} {66881673 Война и мир Толстой Л. Н. 1} ]
exit
```
Я долго старался над программой, надеюсь, проблем не возникнет :)